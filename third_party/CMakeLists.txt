set(CLANG_ENABLE_ARCMT OFF CACHE INTERNAL "")
set(CLANG_ENABLE_STATIC_ANALYZER OFF CACHE INTERNAL "")
set(CLANG_INCLUDE_TESTS OFF CACHE INTERNAL "")
set(LLVM_INCLUDE_TESTS OFF CACHE INTERNAL "")
set(HLSL_INCLUDE_TESTS OFF CACHE INTERNAL "")
set(LLVM_TARGETS_TO_BUILD  CACHE INTERNAL "")
set(LLVM_INCLUDE_DOCS OFF CACHE INTERNAL "")
set(LLVM_INCLUDE_EXAMPLES OFF CACHE INTERNAL "")
set(LIBCLANG_BUILD_STATIC ON CACHE INTERNAL "")
set(LLVM_OPTIMIZED_TABLEGEN OFF CACHE INTERNAL "")
set(LLVM_REQUIRES_EH ON CACHE INTERNAL "")
set(LLVM_APPEND_VC_REV ON CACHE INTERNAL "")
set(LLVM_ENABLE_RTTI ON CACHE INTERNAL "")
set(LLVM_ENABLE_EH ON CACHE INTERNAL "")
set(LLVM_DEFAULT_TARGET_TRIPLE dxil-ms-dx CACHE INTERNAL "")
set(CLANG_BUILD_EXAMPLES OFF CACHE INTERNAL "")
set(LLVM_REQUIRES_RTTI ON CACHE INTERNAL "")
set(CLANG_CL OFF CACHE INTERNAL "")
set(DXC_BUILD_ARCH x64 CACHE INTERNAL "")

add_subdirectory(DirectXShaderCompiler EXCLUDE_FROM_ALL)

set(SPIRV_SKIP_EXECUTABLES ON CACHE BOOL "Skip building SPIRV-Tools executables")
set(SKIP_SPIRV_TOOLS_INSTALL on CACHE BOOL "")
add_subdirectory(SPIRV-Headers EXCLUDE_FROM_ALL)
add_subdirectory(SPIRV-Tools EXCLUDE_FROM_ALL)

set(SPIRV_HEADER_INCLUDE_DIR ${SPIRV-Headers_SOURCE_DIR}/include PARENT_SCOPE)
set(SPIRV_TOOLS_INCLUDE_DIR ${spirv-tools_SOURCE_DIR}/include PARENT_SCOPE)
set(DXC_INCLUDE_DIR ${CMAKE_CURRENT_SOURCE_DIR}/DirectXShaderCompiler/include ${CMAKE_CURRENT_BINARY_DIR}/DirectXShaderCompiler/include PARENT_SCOPE)